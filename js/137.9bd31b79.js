"use strict";(self["webpackChunkshoping_cart"]=self["webpackChunkshoping_cart"]||[]).push([[137],{8326:function(e,s,t){t.d(s,{t:function(){return l}});var r=t(1020),i=t(3854),a=t(6572);const o=JSON.parse(localStorage.getItem("Userdata"));(0,i.v0)().languageCode="en";const l=(0,r.Q_)("Auth",{state:()=>({user:o,error:null,isAuth:!1}),getters:{isAuthenticated:e=>!!e.user},actions:{async signIn(e,s){try{const{user:t}=await(0,i.e5)((0,i.v0)(),e,s);this.user=t,localStorage.setItem("Userdata",JSON.stringify(t)),localStorage.setItem("isAuth",JSON.stringify(!0)),this.isAuth=!0,a.Z.fire({icon:"success",title:this.user.displayName+", Signed in successfully"})}catch(t){this.error=t.code,a.Z.fire({icon:"error",title:this.error})}},async resetPassword(e){try{await(0,i.LS)((0,i.v0)(),e),a.Z.fire({icon:"info",title:"please check your email."})}catch(s){this.error=s.code,a.Z.fire({icon:"error",title:this.error})}},async logout(){try{this.user=null,this.isAuth=!1,this.error=null,this.isAuthenticated=!1,localStorage.clear(),await(0,i.w7)((0,i.v0)())}catch(e){this.error=e.message}},async Registration(e,s,t){try{await(0,i.Xb)((0,i.v0)(),s,t).then((s=>{const t=s.user;(0,i.ck)((0,i.v0)().currentUser,{displayName:e}).then((()=>{this.user=t.providerData[0],localStorage.setItem("isAuth",JSON.stringify(!0)),this.isAuth=!0,localStorage.setItem("Userdata",JSON.stringify(t)),a.Z.fire({icon:"success",title:e+"Signed Up successfully"})}))}))}catch(r){this.error=r.code,a.Z.fire({icon:"error",title:this.error})}}}})},1137:function(e,s,t){t.r(s),t.d(s,{default:function(){return A}});var r=t(3396),i=t(9242),a=t(7139),o=t(237);const l={id:"login"},n={class:"container"},c=(0,r._)("img",{src:o,alt:"logo"},null,-1),u=(0,r._)("h1",null,"Login",-1),d=(0,r._)("label",{for:"email"},"E-Mail",-1),h={class:"error-msg"},g=(0,r._)("label",{for:"password"},"Password",-1),p={class:"error-msg"},w=(0,r._)("button",{class:"button_1"}," Login With Phone Number ",-1),m=(0,r._)("h4",null,"Sign Up",-1);function f(e,s,t,o,f,y){const v=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("section",l,[(0,r._)("div",n,[(0,r.Wm)(v,{to:"/","aria-current":"page"},{default:(0,r.w5)((()=>[c])),_:1}),u,d,(0,r.wy)((0,r._)("input",{type:"email","onUpdate:modelValue":s[0]||(s[0]=s=>e.v$.email.$model=s),id:"email",placeholder:"Email Address"},null,512),[[i.nr,e.v$.email.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.v$.email.$errors,((e,s)=>((0,r.wg)(),(0,r.iD)("div",{class:"input-errors",key:s},[(0,r._)("div",h,(0,a.zw)(e.$message),1)])))),128)),g,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=s=>e.v$.password.$model=s),id:"password",placeholder:"Password"},null,512),[[i.nr,e.v$.password.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.v$.password.$errors,((e,s)=>((0,r.wg)(),(0,r.iD)("div",{class:"input-errors",key:s},[(0,r._)("div",p,(0,a.zw)(e.$message),1)])))),128)),(0,r._)("a",{onClick:s[2]||(s[2]=(...e)=>y.forgotPassword&&y.forgotPassword(...e)),class:"input-errors text-end",style:{cursor:"pointer"}},"Forgot password"),(0,r._)("button",{onClick:s[3]||(s[3]=(...e)=>y.login&&y.login(...e)),type:"button"},"Login"),(0,r.Wm)(v,{to:"/login-with-phone"},{default:(0,r.w5)((()=>[w])),_:1}),(0,r.Wm)(v,{to:"/signup",class:"link"},{default:(0,r.w5)((()=>[m])),_:1})])])}t(7658);var y=t(3053),v=t(9117),_=t(8326),$={name:"login",setup:()=>({v$:(0,y.Xw)()}),data(){return{email:"",password:""}},validations(){return{email:{required:v.BM.withMessage("* Please type Your Email Address.",v.C1),email:v.Do},password:{required:v.BM.withMessage("* Please type Your Password.",v.C1)}}},methods:{async login(){const e=await this.v$.$validate();1==e&&((0,_.t)().signIn(this.email,this.password),(0,_.t)().user&&this.$router.push({name:"Home"}))},async forgotPassword(){await(0,_.t)().resetPassword(this.email)}}},S=t(89);const k=(0,S.Z)($,[["render",f]]);var A=k}}]);
//# sourceMappingURL=137.9bd31b79.js.map