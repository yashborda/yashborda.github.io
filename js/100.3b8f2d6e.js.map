{"version":3,"file":"js/100.3b8f2d6e.js","mappings":"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","sources":["webpack://shoping-cart/./src/views/LoginWithPhone.vue","webpack://shoping-cart/./src/views/LoginWithPhone.vue?59bc"],"sourcesContent":["<template>\r\n    <section id=\"login\">\r\n        <div class=\"container\">\r\n            <router-link to=\"/\" aria-current=\"page\">\r\n                <img src=\"../assets/img/logo3.png\" alt=\"logo1\">\r\n            </router-link>\r\n            <h1>Login</h1>\r\n            <h3 class=\"input-errors mb-3 text-center\">{{ errorCode }}</h3>\r\n            <div v-if=\"!isVerificationCodeSent\">\r\n                <label for=\"phone\">Phone Number</label>\r\n                <input type=\"text\" v-model=\"v$.phone.$model\" maxlength=\"10\" id=\"phone\" placeholder=\"1234512345\">\r\n                <div class=\"input-errors\" v-for=\"(error, index) of v$.phone.$errors\" :key=\"index\">\r\n                    <div class=\"error-msg\">{{ error.$message }}</div>\r\n                </div>\r\n                <div id=\"recaptcha-container\"></div>\r\n                <button @click=\"sendVerificationCode\" type=\"button\">Send verification code</button>\r\n            </div>\r\n\r\n            <div v-else>\r\n                <label for=\"otp\">Enter the verification code</label>\r\n                <input type=\"text\" v-model=\"v$.otp.$model\" id=\"otp\" placeholder=\"Enter the verification code\">\r\n                <div class=\"input-errors\" v-for=\"(error, index) of v$.otp.$errors\" :key=\"index\">\r\n                    <div class=\"error-msg\">{{ error.$message }}</div>\r\n                </div>\r\n                <button @click=\"verifyPhoneNumber\">Verify</button>\r\n            </div>\r\n\r\n            <router-link to=\"/login\" class=\"link\">\r\n                <h4>Login</h4>\r\n            </router-link>\r\n        </div>\r\n    </section>\r\n</template>\r\n  \r\n<script>\r\nimport Toast from '@/main';\r\nimport { useVuelidate } from '@vuelidate/core'\r\nimport { required, helpers } from '@vuelidate/validators'\r\nimport { getAuth, RecaptchaVerifier, signInWithPhoneNumber } from \"firebase/auth\";\r\nexport default {\r\n    name: 'login',\r\n    setup: () => ({ v$: useVuelidate() }),\r\n    data() {\r\n        return {\r\n            phone: '',\r\n            otp: '',\r\n            isVerificationCodeSent: false,\r\n            confirmationResult: null,\r\n            errorCode: '',\r\n            recaptchaVerifier: null,\r\n            auth: getAuth()\r\n        }\r\n    },\r\n    validations() {\r\n        return {\r\n            phone: {\r\n                required: helpers.withMessage('* Please Enter Your Phone Number.', required),\r\n            },\r\n            otp: {\r\n                required: helpers.withMessage('* Please Enter Your the verification code.', required),\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        let user = localStorage.getItem(\"Userdata\");\r\n        if (user) {\r\n            this.$router.push({ name: 'Home' })\r\n        }\r\n        this.auth.languageCode = 'en';\r\n        this.recaptchaVerifier = new RecaptchaVerifier('recaptcha-container', {}, this.auth);\r\n        this.recaptchaVerifier.render().then((widgetId) => {\r\n            window.recaptchaWidgetId = widgetId;\r\n        });\r\n    },\r\n    methods: {\r\n        async sendVerificationCode() {\r\n            await this.v$.$validate();\r\n            this.phoneNumber = '+91' + this.phone;\r\n            signInWithPhoneNumber(this.auth, this.phoneNumber, this.recaptchaVerifier)\r\n                .then((confirmationResult) => {\r\n                    this.confirmationResult = confirmationResult\r\n                    Toast.fire({\r\n                        icon: \"success\",\r\n                        title: \"Sms Sent!\",\r\n                    });\r\n                    this.isVerificationCodeSent = true\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error.code, 'code');\r\n                    if (error.code == 'auth/too-many-requests') {\r\n                        Toast.fire({\r\n                            icon: \"warning\",\r\n                            title: 'Too Many Attempts Try Later',\r\n                        });\r\n                    } else {\r\n                        Toast.fire({\r\n                            icon: \"error\",\r\n                            title: 'Sms Not Sent!',\r\n                        });\r\n                    }\r\n                })\r\n        },\r\n        async verifyPhoneNumber() {\r\n            await this.v$.$validate()\r\n            this.confirmationResult.confirm(this.otp)\r\n                .then((result) => {\r\n                    console.log(result, 'result');\r\n                    localStorage.setItem(\"Userdata\", JSON.stringify(result.user.providerData[0]))\r\n                    Toast.fire({\r\n                        icon: \"success\",\r\n                        title: \"Registeration Successfull!\",\r\n                    });\r\n                    this.$router.push({ name: 'Home' })\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                })\r\n        },\r\n    },\r\n}\r\n</script>","import { render } from \"./LoginWithPhone.vue?vue&type=template&id=ff9ed7fc\"\nimport script from \"./LoginWithPhone.vue?vue&type=script&lang=js\"\nexport * from \"./LoginWithPhone.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Surat infotech\\\\OneDrive\\\\Desktop\\\\yash\\\\Vue\\\\Shoping-Cart-Vuejs\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","class","_createElementVNode","src","_imports_0","alt","for","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","_hoisted_3","_hoisted_4","_hoisted_5","$data","_hoisted_11","type","_ctx","otp","$model","placeholder","_Fragment","$errors","error","index","key","_hoisted_12","$message","onClick","$options","_hoisted_7","phone","maxlength","_hoisted_8","_hoisted_9","_hoisted_13","name","setup","v$","useVuelidate","data","isVerificationCodeSent","confirmationResult","errorCode","recaptchaVerifier","auth","getAuth","validations","required","helpers","mounted","user","localStorage","getItem","this","$router","push","languageCode","RecaptchaVerifier","render","then","widgetId","window","recaptchaWidgetId","methods","async","$validate","phoneNumber","signInWithPhoneNumber","Toast","icon","title","catch","console","log","code","confirm","result","setItem","JSON","stringify","providerData","__exports__"],"sourceRoot":""}